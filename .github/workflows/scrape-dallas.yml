name: Scrape â€” Dallas County
on:
  schedule:
    - cron: "20 6 * * *"
  workflow_dispatch:
    inputs:
      days: { description: "Days back", default: "1" }
      sample_data: { description: "Sample mode", type: choice, options: ["false","true"], default: "false" }

jobs:
  run:
    uses: ./.github/workflows/_scrape-python.yml
    with:
      name: tx-dallas
      module: permit_leads.dallas.scrape
      entry_fallback: scripts/dallas_scrape.py
      days: ${{ inputs.days }}
      sample_data: ${{ inputs.sample_data }}
    secrets:
      SUPABASE_URL: ${{ secrets.SUPABASE_URL }}
      SUPABASE_SERVICE_ROLE_KEY: ${{ secrets.SUPABASE_SERVICE_ROLE_KEY }}
      SOURCE_URL: ${{ secrets.DALLAS_PERMITS_URL }}
