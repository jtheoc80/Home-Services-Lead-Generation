# Frontend Environment Variables for LeadLedgerPro
# Copy this file to .env.local and fill in your actual values
#
# IMPORTANT SECURITY NOTES:
# - Variables prefixed with NEXT_PUBLIC_ are exposed to the browser
# - Never put sensitive keys (service role, JWT secrets) in NEXT_PUBLIC_ variables
# - Server-side variables (without NEXT_PUBLIC_) are only available in API routes

# ===== PUBLIC VARIABLES (Exposed to Browser) =====
# These are safe to expose in the frontend bundle

# Supabase project URL (public, safe for frontend)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co

# Supabase anonymous key (public, safe for frontend)  
# This key has limited read permissions only
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your_anon_key_here

# Backend API base URL for client-side requests
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000

# Default region for new accounts (public)
NEXT_PUBLIC_DEFAULT_REGION=tx-houston

# App configuration (public)
NEXT_PUBLIC_APP_NAME=LeadLedgerPro
NEXT_PUBLIC_SUPPORT_EMAIL=support@leadledderpro.com

# Analytics (public)
NEXT_PUBLIC_GA_TRACKING_ID=G-XXXXXXXXXX

# ===== SERVER-SIDE VARIABLES (Private) =====
# These are NEVER exposed to the browser and only available in API routes

# General webhook secret for authentication (PRIVATE - server only)
# Generate with: openssl rand -hex 32
WEBHOOK_SECRET=6b62cc6f1dedc79d2bd950732c2cabb1d9a89b2c927c23bdfb73954808e784dc

# Supabase service role key (PRIVATE - full database access)
# Used for server-side operations and API routes
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your_service_role_key_here

# Supabase JWT secret (PRIVATE - for token verification)
SUPABASE_JWT_SECRET=your-super-secret-jwt-key

# Stripe keys (PRIVATE)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Internal API authentication (PRIVATE)
INTERNAL_WEBHOOK_TOKEN=your-internal-webhook-token
INTERNAL_BACKEND_WEBHOOK_URL=https://your-backend.railway.app/webhooks/stripe

# Test Mode Configuration (PRIVATE)
# Set to true to bypass RLS policies for E2E testing (service-role writes)
LEADS_TEST_MODE=true

# Debug API Key for trace endpoint (PRIVATE)
# Used to protect /api/leads/trace/[id] endpoint
DEBUG_API_KEY=your_debug_api_key_here

# Harris County Issued Permits API (PUBLIC but rate-limited)
HC_ISSUED_PERMITS_URL=https://www.gis.hctx.net/arcgishcpid/rest/services/Permits/IssuedPermits/FeatureServer/0

# Redis configuration (PRIVATE)
# Choose ONE of the following Redis configurations:
# Option 1: Standard Redis URL
REDIS_URL=redis://localhost:6379/0
# Option 2: Upstash Redis REST API (alternative to REDIS_URL)
# UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your_upstash_token_here

# ===== DEVELOPMENT ONLY =====
# These should only be used in development

# Enable debug mode (development only)
NODE_ENV=development
DEBUG=true

# Disable telemetry in development
NEXT_TELEMETRY_DISABLED=1

# ===== DEPLOYMENT CONFIGURATION =====
# These may be set by deployment platforms

# Vercel deployment URL (set automatically by Vercel)
VERCEL_URL=your-app.vercel.app

# Railway backend URL (for API proxy)
BACKEND_API_URL=https://your-backend.railway.app

# ===== EXAMPLE VALUES FOR REFERENCE =====
# Copy the structure above and replace with your actual values
# 
# For local development, typical values would be:
# NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
# NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# NEXT_PUBLIC_API_BASE_URL=http://localhost:8000
# SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# SUPABASE_JWT_SECRET=your-jwt-secret
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# ===== SECURITY CHECKLIST =====
# ✅ All NEXT_PUBLIC_ variables are safe for browser exposure
# ✅ No service role keys or JWT secrets in NEXT_PUBLIC_ variables  
# ✅ Webhook secrets and API keys are server-side only
# ✅ Database credentials are never exposed to frontend
# ✅ Internal service tokens are properly secured